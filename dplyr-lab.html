<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Miriam Schäfer">

<title>dplyr lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="dplyr-lab_files/libs/clipboard/clipboard.min.js"></script>
<script src="dplyr-lab_files/libs/quarto-html/quarto.js"></script>
<script src="dplyr-lab_files/libs/quarto-html/popper.min.js"></script>
<script src="dplyr-lab_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dplyr-lab_files/libs/quarto-html/anchor.min.js"></script>
<link href="dplyr-lab_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dplyr-lab_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="dplyr-lab_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dplyr-lab_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dplyr-lab_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">dplyr lab</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Miriam Schäfer </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise 1</h2>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question 1</h3>
<p><em>Using distinct (among other functions) compute the number of different songs, artists and musical genre that have been included in the data set. Include the results directly in a presentation text in the markdown document, in the form: the data set contains 584 songs. Notice that the numerical value cannot be copy-pasted from e.g.&nbsp;the console, but has to be included in the text during knitting.</em></p>
<p>The dataset contains 584 songs from 184 different artists and 50 genres.</p>
</section>
<section id="question-2" class="level3">
<h3 class="anchored" data-anchor-id="question-2">Question 2</h3>
<p><em>Compute the number of songs per year and include it in the knitted document as a nicely formatted table (using for instance knitr::kable).</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: left;">Number of songs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">51</td>
</tr>
<tr class="even">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">53</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">35</td>
</tr>
<tr class="even">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">71</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">58</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">80</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017</td>
<td style="text-align: left;">65</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2018</td>
<td style="text-align: left;">64</td>
</tr>
<tr class="even">
<td style="text-align: left;">2019</td>
<td style="text-align: left;">31</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-3" class="level3">
<h3 class="anchored" data-anchor-id="question-3">Question 3</h3>
<p><em>Find the most popular artist in the data set, i.e.&nbsp;the artist with the largest number of songs in the data set. Make sure to count each song only once. Include the name of this artist and the number of songs in the text of the knitted document (as in question 1).</em></p>
<p>The most popular artist in the dataset is Katy Perry with 17 songs.</p>
</section>
<section id="question-4" class="level3">
<h3 class="anchored" data-anchor-id="question-4">Question 4</h3>
<p><em>Compute the minimum, maximum, mean and median bpm as well as the number of songs, for each musical genre. Make sure that each song is used only once in the analysis. Gather the information in a single table included in the knitted result (as in question 2).</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">top genre</th>
<th style="text-align: right;">Number of songs</th>
<th style="text-align: right;">Min BPM</th>
<th style="text-align: right;">Max BPM</th>
<th style="text-align: right;">Mean BPM</th>
<th style="text-align: right;">Median BPM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">acoustic pop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">185</td>
<td style="text-align: right;">155.0000</td>
<td style="text-align: right;">155.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">alaska indie</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">132</td>
<td style="text-align: right;">132</td>
<td style="text-align: right;">132.0000</td>
<td style="text-align: right;">132.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">alternative r&amp;b</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">136.0000</td>
<td style="text-align: right;">136.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">art pop</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">115.1250</td>
<td style="text-align: right;">108.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">atl hip hop</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">108.5000</td>
<td style="text-align: right;">112.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">australian dance</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">192</td>
<td style="text-align: right;">128.8333</td>
<td style="text-align: right;">115.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">australian hip hop</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">95.0000</td>
<td style="text-align: right;">95.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">australian pop</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">186</td>
<td style="text-align: right;">153.8000</td>
<td style="text-align: right;">150.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">barbadian pop</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">206</td>
<td style="text-align: right;">125.3333</td>
<td style="text-align: right;">127.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">baroque pop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">184</td>
<td style="text-align: right;">146.0000</td>
<td style="text-align: right;">146.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">belgian edm</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">122.0000</td>
<td style="text-align: right;">122.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">big room</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">122.3000</td>
<td style="text-align: right;">125.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">boy band</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">116.1333</td>
<td style="text-align: right;">120.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">british soul</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">164</td>
<td style="text-align: right;">114.2000</td>
<td style="text-align: right;">121.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">brostep</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">142</td>
<td style="text-align: right;">121.0000</td>
<td style="text-align: right;">121.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">canadian contemporary r&amp;b</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">186</td>
<td style="text-align: right;">130.0000</td>
<td style="text-align: right;">120.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">canadian hip hop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">109.0000</td>
<td style="text-align: right;">109.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">canadian latin</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">98.0000</td>
<td style="text-align: right;">98.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">canadian pop</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">192</td>
<td style="text-align: right;">122.1290</td>
<td style="text-align: right;">119.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">candy pop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">109.0000</td>
<td style="text-align: right;">109.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">celtic rock</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">85.0000</td>
<td style="text-align: right;">85.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">chicago rap</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">125.0000</td>
<td style="text-align: right;">125.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">colombian pop</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">126.0000</td>
<td style="text-align: right;">128.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">complextro</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">120.3333</td>
<td style="text-align: right;">127.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">contemporary country</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">86.0000</td>
<td style="text-align: right;">86.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">dance pop</td>
<td style="text-align: right;">324</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">202</td>
<td style="text-align: right;">118.5309</td>
<td style="text-align: right;">120.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">danish pop</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">120.0000</td>
<td style="text-align: right;">120.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">detroit hip hop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">84.5000</td>
<td style="text-align: right;">84.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">downtempo</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">167</td>
<td style="text-align: right;">133.5000</td>
<td style="text-align: right;">133.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">edm</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">103.0000</td>
<td style="text-align: right;">102.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">electro</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">108.0000</td>
<td style="text-align: right;">108.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">electro house</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">124.0000</td>
<td style="text-align: right;">124.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">electronic trap</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">98.0000</td>
<td style="text-align: right;">98.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">electropop</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">112.8462</td>
<td style="text-align: right;">103.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">escape room</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">158</td>
<td style="text-align: right;">127.0000</td>
<td style="text-align: right;">127.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">folk-pop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">80.5000</td>
<td style="text-align: right;">80.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">french indie pop</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">123</td>
<td style="text-align: right;">123</td>
<td style="text-align: right;">123.0000</td>
<td style="text-align: right;">123.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">hip hop</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">93.7500</td>
<td style="text-align: right;">91.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hip pop</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">100.6667</td>
<td style="text-align: right;">98.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">hollywood</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">92.0000</td>
<td style="text-align: right;">92.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">house</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">122.0000</td>
<td style="text-align: right;">122.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">indie pop</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">148</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">151.5000</td>
<td style="text-align: right;">151.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">irish singer-songwriter</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">129.0000</td>
<td style="text-align: right;">129.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">latin</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">186</td>
<td style="text-align: right;">140.7500</td>
<td style="text-align: right;">141.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">metropopolis</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">127.0000</td>
<td style="text-align: right;">127.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">moroccan pop</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">110.0000</td>
<td style="text-align: right;">110.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">neo mellow</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">109.1111</td>
<td style="text-align: right;">116.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">permanent wave</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">148</td>
<td style="text-align: right;">137.2500</td>
<td style="text-align: right;">138.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pop</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">117.2143</td>
<td style="text-align: right;">117.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">tropical house</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">129.5000</td>
<td style="text-align: right;">129.5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-5" class="level3">
<h3 class="anchored" data-anchor-id="question-5">Question 5</h3>
<p><em>Compute the median energy and the median danceability per year in a single data frame.</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: left;">Median_energy</th>
<th style="text-align: left;">Median_danceability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">82</td>
<td style="text-align: left;">67.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">78</td>
<td style="text-align: left;">65.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">79</td>
<td style="text-align: left;">67.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">78</td>
<td style="text-align: left;">63.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">72</td>
<td style="text-align: left;">63.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">75</td>
<td style="text-align: left;">66.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">71</td>
<td style="text-align: left;">63.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017</td>
<td style="text-align: left;">72</td>
<td style="text-align: left;">68.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2018</td>
<td style="text-align: left;">67</td>
<td style="text-align: left;">67.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2019</td>
<td style="text-align: left;">68</td>
<td style="text-align: left;">70.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-6" class="level3">
<h3 class="anchored" data-anchor-id="question-6">Question 6</h3>
<p><em>Draw on a single graph the temporal evolution of the median annual energy and the median annual danceability.</em></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="dplyr-lab_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="exercise-2" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2">Exercise 2</h2>
<section id="question-1-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1-1">Question 1</h3>
<p><em>Compute the median “Age at enrollment” conditioned both on the Gender and on the “Marital status”.</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Gender</th>
<th style="text-align: left;">Marital status</th>
<th style="text-align: right;">Median_age_at_enrollment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">single</td>
<td style="text-align: right;">20.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">married</td>
<td style="text-align: right;">37.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">divorced</td>
<td style="text-align: right;">40.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">widower</td>
<td style="text-align: right;">43.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">facto union</td>
<td style="text-align: right;">34.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">legally separated</td>
<td style="text-align: right;">55.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">single</td>
<td style="text-align: right;">19.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">married</td>
<td style="text-align: right;">34.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">divorced</td>
<td style="text-align: right;">38.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">widower</td>
<td style="text-align: right;">21.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">facto union</td>
<td style="text-align: right;">27.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">legally separated</td>
<td style="text-align: right;">41.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-2-1" class="level3">
<h3 class="anchored" data-anchor-id="question-2-1">Question 2</h3>
<p><em>Transform the data frame obtained in question 1 in order to have three variables: one for the “Marital status”, one for Female and one for Male. Each row should correspond to a specific marital status (given in the corresponding column) while the Female and Male columns should contain the corresponding median age. Include the resulting table in the knitted document as explained in Exercise 1.</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Marital status</th>
<th style="text-align: right;">Male</th>
<th style="text-align: right;">Female</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">single</td>
<td style="text-align: right;">20.0</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="even">
<td style="text-align: left;">married</td>
<td style="text-align: right;">37.0</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">divorced</td>
<td style="text-align: right;">40.5</td>
<td style="text-align: right;">38</td>
</tr>
<tr class="even">
<td style="text-align: left;">widower</td>
<td style="text-align: right;">43.0</td>
<td style="text-align: right;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">facto union</td>
<td style="text-align: right;">34.0</td>
<td style="text-align: right;">27</td>
</tr>
<tr class="even">
<td style="text-align: left;">legally separated</td>
<td style="text-align: right;">55.0</td>
<td style="text-align: right;">41</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-3-1" class="level3">
<h3 class="anchored" data-anchor-id="question-3-1">Question 3</h3>
<p><em>Compute the conditional mean of all variables related to “Curricular units” given the value of the Target variable.</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Mean curricular units given the Target variable</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Target</th>
<th style="text-align: right;">Curricular units 1st sem (credited)</th>
<th style="text-align: right;">Curricular units 1st sem (enrolled)</th>
<th style="text-align: right;">Curricular units 1st sem (evaluations)</th>
<th style="text-align: right;">Curricular units 1st sem (approved)</th>
<th style="text-align: right;">Curricular units 1st sem (grade)</th>
<th style="text-align: right;">Curricular units 1st sem (without evaluations)</th>
<th style="text-align: right;">Curricular units 2nd sem (credited)</th>
<th style="text-align: right;">Curricular units 2nd sem (enrolled)</th>
<th style="text-align: right;">Curricular units 2nd sem (evaluations)</th>
<th style="text-align: right;">Curricular units 2nd sem (approved)</th>
<th style="text-align: right;">Curricular units 2nd sem (grade)</th>
<th style="text-align: right;">Curricular units 2nd sem (without evaluations)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dropout</td>
<td style="text-align: right;">0.6094300</td>
<td style="text-align: right;">5.821253</td>
<td style="text-align: right;">7.751583</td>
<td style="text-align: right;">2.551724</td>
<td style="text-align: right;">7.256655</td>
<td style="text-align: right;">0.1921182</td>
<td style="text-align: right;">0.4496833</td>
<td style="text-align: right;">5.780436</td>
<td style="text-align: right;">7.173821</td>
<td style="text-align: right;">1.940183</td>
<td style="text-align: right;">5.899339</td>
<td style="text-align: right;">0.2378607</td>
</tr>
<tr class="even">
<td style="text-align: left;">Graduate</td>
<td style="text-align: right;">0.8474423</td>
<td style="text-align: right;">6.669534</td>
<td style="text-align: right;">8.276596</td>
<td style="text-align: right;">6.232232</td>
<td style="text-align: right;">12.643655</td>
<td style="text-align: right;">0.0882752</td>
<td style="text-align: right;">0.6668176</td>
<td style="text-align: right;">6.628339</td>
<td style="text-align: right;">8.142146</td>
<td style="text-align: right;">6.177003</td>
<td style="text-align: right;">12.697276</td>
<td style="text-align: right;">0.0805794</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Enrolled</td>
<td style="text-align: right;">0.5075567</td>
<td style="text-align: right;">5.964735</td>
<td style="text-align: right;">9.341310</td>
<td style="text-align: right;">4.318640</td>
<td style="text-align: right;">11.125257</td>
<td style="text-align: right;">0.1775819</td>
<td style="text-align: right;">0.3589421</td>
<td style="text-align: right;">5.938287</td>
<td style="text-align: right;">9.435768</td>
<td style="text-align: right;">4.057934</td>
<td style="text-align: right;">11.117364</td>
<td style="text-align: right;">0.1876574</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="question-4-1" class="level3">
<h3 class="anchored" data-anchor-id="question-4-1">Question 4</h3>
<p><em>Using the pivot_ functions, transform the data in order to include in the knitted result a table of the given form.</em></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Mean curricular units given the Target variable</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Curricular units</th>
<th style="text-align: right;">Dropout</th>
<th style="text-align: right;">Graduate</th>
<th style="text-align: right;">Enrolled</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Curricular units 1st sem (credited)</td>
<td style="text-align: right;">0.61</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">0.51</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 1st sem (enrolled)</td>
<td style="text-align: right;">5.82</td>
<td style="text-align: right;">6.67</td>
<td style="text-align: right;">5.96</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Curricular units 1st sem (evaluations)</td>
<td style="text-align: right;">7.75</td>
<td style="text-align: right;">8.28</td>
<td style="text-align: right;">9.34</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 1st sem (approved)</td>
<td style="text-align: right;">2.55</td>
<td style="text-align: right;">6.23</td>
<td style="text-align: right;">4.32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Curricular units 1st sem (grade)</td>
<td style="text-align: right;">7.26</td>
<td style="text-align: right;">12.64</td>
<td style="text-align: right;">11.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 1st sem (without evaluations)</td>
<td style="text-align: right;">0.19</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Curricular units 2nd sem (credited)</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.67</td>
<td style="text-align: right;">0.36</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 2nd sem (enrolled)</td>
<td style="text-align: right;">5.78</td>
<td style="text-align: right;">6.63</td>
<td style="text-align: right;">5.94</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Curricular units 2nd sem (evaluations)</td>
<td style="text-align: right;">7.17</td>
<td style="text-align: right;">8.14</td>
<td style="text-align: right;">9.44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 2nd sem (approved)</td>
<td style="text-align: right;">1.94</td>
<td style="text-align: right;">6.18</td>
<td style="text-align: right;">4.06</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Curricular units 2nd sem (grade)</td>
<td style="text-align: right;">5.90</td>
<td style="text-align: right;">12.70</td>
<td style="text-align: right;">11.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">Curricular units 2nd sem (without evaluations)</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.19</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>